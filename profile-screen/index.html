<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Usuário e Locações</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="../top-bar/css/topBarStyle.css">
    <link rel="icon" type="image/png" href="img/icon.png">
    <script src="../top-bar/topBarFunctions.js" defer></script>
    <link rel="icon" type="image/png" href="../top-bar/img/icon.png">
</head>

<body>
    <div class="searchBar">
        <img id="logo" class="logoTop" src="../top-bar/img/logoLado.png" alt="Logo do Topo">
        <div class="searchBar2">
            <input type="text" placeholder="Vai pra onde?" class="searchInput" aria-label="Destino">
            <input type="number" id="daysInput" placeholder="Quantos dias?" class="searchInput" aria-label="Número de dias">
            <div class="searchInputWrapper">
                <input type="number" id="peopleInput" placeholder="Com quem?" class="searchInputWithButton" aria-label="Número de pessoas">
                <button type="submit" class="buttonSearch" aria-label="Buscar"></button>
                <button type="submit" class="buttonFilters" id="toggleButton" aria-label="Abrir Filtros"></button>
            </div>
        </div>
        <a href="../profile-screen/index.html">
            <div class="picAndLabels">
                <div class="textLocatorInfo">
                    <p class="textName">Eduardo França</p>
                    <p class="locatorLevel">Locador Ouro</p>
                </div>
                <img class="profilePicLogo" src="../top-bar/img/profilePicTest.png" alt="Foto de Perfil">
            </div>
        </a>
    </div>
    <div id="filtersBar" class="filtersBar"></div>

    <div class="profile-section">
        <div class="user-details">
            <div class="user-photo">
                <div class="photo-placeholder">
                    <img id="profile-photo" src="default-photo.png" alt="Foto de perfil do usuário">
                </div>
            </div>

            <div class="documents-section">
                <input id="file-upload" type="file" class="file-input" accept="image/*" style="display: none;">
                <button class="Documents-btn" id="documents-button" aria-label="Selecionar imagem">
                    <span class="folderContainer">
                        <svg class="fileBack" width="146" height="113" viewBox="0 0 146 113" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 4C0 1.79086 1.79086 0 4 0H50.3802C51.8285 0 53.2056 0.627965 54.1553 1.72142L64.3303 13.4371C65.2799 14.5306 66.657 15.1585 68.1053 15.1585H141.509C143.718 15.1585 145.509 16.9494 145.509 19.1585V109C145.509 111.209 143.718 113 141.509 113H3.99999C1.79085 113 0 111.209 0 109V4Z" fill="url(#paint0_linear_117_4)"></path>
                            <defs>
                                <linearGradient id="paint0_linear_117_4" x1="0" y1="0" x2="72.93" y2="95.4804" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#8F88C2"></stop>
                                    <stop offset="1" stop-color="#5C52A2"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                        <svg class="filePage" width="88" height="99" viewBox="0 0 88 99" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="88" height="99" fill="url(#paint0_linear_117_6)"></rect>
                            <defs>
                                <linearGradient id="paint0_linear_117_6" x1="0" y1="0" x2="81" y2="160.5" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="white"></stop>
                                    <stop offset="1" stop-color="#686868"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                        <svg class="fileFront" width="160" height="79" viewBox="0 0 160 79" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.29306 12.2478C0.133905 9.38186 2.41499 6.97059 5.28537 6.97059H30.419H58.1902C59.5751 6.97059 60.9288 6.55982 62.0802 5.79025L68.977 1.18034C70.1283 0.410771 71.482 0 72.8669 0H77H155.462C157.87 0 159.733 2.1129 159.43 4.50232L150.443 75.5023C150.19 77.5013 148.489 79 146.474 79H7.78403C5.66106 79 3.9079 77.3415 3.79019 75.2218L0.29306 12.2478Z" fill="url(#paint0_linear_117_5)"></path>
                            <defs>
                                <linearGradient id="paint0_linear_117_5" x1="38.7619" y1="8.71323" x2="66.9106" y2="82.8317" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#C3BBFF"></stop>
                                    <stop offset="1" stop-color="#51469A"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                    </span>
                    <p class="text">Selecione a imagem</p>
                </button>
            </div>

            <div class="user-info">
                <div class="info-item">
                    <label for="email"><i class="icon-email"></i> Email</label>
                    <input type="email" id="email" value="" required aria-required="true">
                </div>
                <div class="info-item">
                    <label for="phone"><i class="icon-phone"></i> Celular</label>
                    <input type="text" id="phone" value="" required aria-required="true">
                </div>
                <div class="info-item">
                    <label for="identity"><i class="icon-identity"></i> Identidade</label>
                    <input type="text" id="identity" value="Enviado e verificado" readonly>
                </div>
            </div>
        </div>

        <div class="user-about-actions">
            <div class="user-about">
                <h3>Sobre EDUARDO</h3>
                <textarea id="user-about-text" maxlength="350" aria-label="Sobre o usuário"></textarea>
                <div id="char-count">
                    <span id="char-used">0</span> / <span id="char-max">350</span>
                </div>
                <button id="save-about-button" disabled>Salvar Alterações</button>
            </div>
            <div class="actions">
                <a href="../support-screen/index.html">
                    <button>Contatar Suporte</button>
                </a>
                <a href="../favorites-screen/index.html">
                    <button>Acessar Favoritos</button>
                </a>
                <a href="../history-screen/index.html">
                    <button>Histórico de Locações</button>
                </a>
                <a href="../property-management-screen/index.html">
                    <button>Gerenciar Propriedades</button>
                </a>
                <button class="delete-account">Apagar Conta</button>
            </div>
        </div>
    </div>

    <script src="js/script.js" defer></script>
    <script>
        document.getElementById('documents-button').addEventListener('click', function() {
            document.getElementById('file-upload').click();
        });

        document.getElementById('file-upload').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profile-photo').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        
        const userAboutText = document.getElementById('user-about-text');
        const charUsed = document.getElementById('char-used');
        const saveButton = document.getElementById('save-about-button');

        userAboutText.addEventListener('input', function() {
            const textLength = userAboutText.value.length;
            charUsed.textContent = textLength;

          
            if (textLength > 0) {
                saveButton.disabled = false;
            } else {
                saveButton.disabled = true;
            }
        });

        saveButton.addEventListener('click', function() {
           
            alert('Alterações salvas com sucesso!');
            
        });
    </script>
</body>

</html>