<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Usuário e Locações</title>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
    <link rel="stylesheet" href="./css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="../top-bar/css/topBarStyle.css">
    <link rel="icon" type="image/png" href="img/icon.png">
    <script src="../top-bar/topBarFunctions.js" defer></script>
    <link rel="icon" type="image/png" href="../top-bar/img/icon.png">
</head>

<body>

    <!-- Start of the search bar -->
    <div class="searchBar">
        <img id="logo" class="logoTop" src="../top-bar/img/logoLado.png">
        <div class="searchBar2">
            <input type="text" placeholder="Vai pra onde?" class="searchInput">
            <input type="number" id="justNumberInput" placeholder="Quantos dias?" class="searchInput">
            <div class="searchInputWrapper">
                <input type="number" id="justNumberInput" placeholder="Com quem?" class="searchInputWithButton">
                <button type='submit' class="buttonSearch"></button>
                <button type='submit' class="buttonFilters" id="toggleButton"></button>
            </div>
            <div class="announcementButtonAlign">
                <button class="announcementButton">ANUNCIE!</button>
            </div>
        </div>

        <a id="profileLink" href="#">
            <div class="picAndLabels">
                <div class="textLocatorInfo">
                    <label class="textName">Acessar Conta</label>
                    <label class="locatorLevel" id="statusLabel">Logue ou Cadastre-se</label>
                </div>
                <img class="profilePicLogo" src="../top-bar/img/profilePicTest.png">
            </div>
        </a>
    </div>

    <div id="categoriesBar" class="categoriesBar">
        <div class="categoriesAlignTopBar2">
            <a class="categoriesAlignTopBar" onclick="filterProperties('Auditorio')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/auditoriums.png">
                <label class="labelCategoriesTopBar">Auditórios</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Praia')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/beaches.png">
                <label class="labelCategoriesTopBar">Praias</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Bistro')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/bistros.png">
                <label class="labelCategoriesTopBar">Bistrôs</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Castelo')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/castles-and-palaces.png">
                <label class="labelCategoriesTopBar">Castelos</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Capela')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/chapels.png">
                <label class="labelCategoriesTopBar">Capelas</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Clube')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/clubs-and-associations.png">
                <label class="labelCategoriesTopBar">Clubes</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Co-working')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/co-working.png">
                <label class="labelCategoriesTopBar">Co-working</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Convencao')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/convention-centers.png">
                <label class="labelCategoriesTopBar">Convenções</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Cobertura')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/coverages.png">
                <label class="labelCategoriesTopBar">Coberturas</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Lago')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/dams-and-lakes.png">
                <label class="labelCategoriesTopBar">Rios e Lagos</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Fazenda')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/farms and-ranches.png">
                <label class="labelCategoriesTopBar">Fazendas</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Chacara')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/farms.png">
                <label class="labelCategoriesTopBar">Chácaras</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Jardim')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/gardens.png">
                <label class="labelCategoriesTopBar">Jardins</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Hotel')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/hotels-and-inns.png">
                <label class="labelCategoriesTopBar">Hotéis</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Ilha')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/islands.png">
                <label class="labelCategoriesTopBar">Ilhas</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Lounge')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/lounges.png">
                <label class="labelCategoriesTopBar">Lounges</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Mansao')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/mansions.png">
                <label class="labelCategoriesTopBar">Mansões</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Salao')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/party-halls.png">
                <label class="labelCategoriesTopBar">Salões de Festa</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Resort')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/resorts.png">
                <label class="labelCategoriesTopBar">Resorts</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Barracao')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/sheds.png">
                <label class="labelCategoriesTopBar">Barracões</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Estadio')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/stadiums-and-arenas.png">
                <label class="labelCategoriesTopBar">Estádios</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('ParqueTematico')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/theme-parks.png">
                <label class="labelCategoriesTopBar">Parques Temáticos</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('ParqueAquatico')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/water-parks.png">
                <label class="labelCategoriesTopBar">Parques Aquáticos</label>
            </a>
            <a class="categoriesAlignTopBar" onclick="filterProperties('Embarcacao')">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/yachts-and-vessels.png">
                <label class="labelCategoriesTopBar">Embarcações</label>
            </a>
            <a class="categoriesAlignTopBarRemove" onclick="clearFilters()">
                <img class="categoriesBarImage" src="../(IMGs) CATEGORIES ICONS/clear-filters.png">
                <label class="labelCategoriesTopBarRemove">Limpar Categoria</label>
            </a>
        </div>
    </div>
    <!-- End of the search bar -->

    <div class="profile-section">
        <div class="user-details">
            <div class="user-photo">
                <div class="photo-placeholder">
                    <img id="profile-photo" src="default-photo.png">
                </div>
            </div>


            <div class="documents-section">
                <input id="file-upload" type="file" class="file-input" accept="image/*" style="display: none;">
                <button class="Documents-btn" id="documents-button" aria-label="Selecionar imagem">
                    <span class="folderContainer">
                        <svg class="fileBack" width="146" height="113" viewBox="0 0 146 113" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0 4C0 1.79086 1.79086 0 4 0H50.3802C51.8285 0 53.2056 0.627965 54.1553 1.72142L64.3303 13.4371C65.2799 14.5306 66.657 15.1585 68.1053 15.1585H141.509C143.718 15.1585 145.509 16.9494 145.509 19.1585V109C145.509 111.209 143.718 113 141.509 113H3.99999C1.79085 113 0 111.209 0 109V4Z"
                                fill="url(#paint0_linear_117_4)"></path>
                            <defs>
                                <linearGradient id="paint0_linear_117_4" x1="0" y1="0" x2="72.93" y2="95.4804"
                                    gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#8F88C2"></stop>
                                    <stop offset="1" stop-color="#5C52A2"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                        <svg class="filePage" width="88" height="99" viewBox="0 0 88 99" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect width="88" height="99" fill="url(#paint0_linear_117_6)"></rect>
                            <defs>
                                <linearGradient id="paint0_linear_117_6" x1="0" y1="0" x2="81" y2="160.5"
                                    gradientUnits="userSpaceOnUse">
                                    <stop stop-color="white"></stop>
                                    <stop offset="1" stop-color="#686868"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                        <svg class="fileFront" width="160" height="79" viewBox="0 0 160 79" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.29306 12.2478C0.133905 9.38186 2.41499 6.97059 5.28537 6.97059H30.419H58.1902C59.5751 6.97059 60.9288 6.55982 62.0802 5.79025L68.977 1.18034C70.1283 0.410771 71.482 0 72.8669 0H77H155.462C157.87 0 159.733 2.1129 159.43 4.50232L150.443 75.5023C150.19 77.5013 148.489 79 146.474 79H7.78403C5.66106 79 3.9079 77.3415 3.79019 75.2218L0.29306 12.2478Z"
                                fill="url(#paint0_linear_117_5)"></path>
                            <defs>
                                <linearGradient id="paint0_linear_117_5" x1="38.7619" y1="8.71323" x2="66.9106"
                                    y2="82.8317" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#C3BBFF"></stop>
                                    <stop offset="1" stop-color="#51469A"></stop>
                                </linearGradient>
                            </defs>
                        </svg>
                    </span>
                    <p class="text">Selecione a imagem</p>
                </button>
            </div>

            <div class="user-info">
                <div class="info-item">
                    <label for="email"><i class="icon-email"></i> Email</label>
                    <p class="fontSizeData">Email</p>
                </div>
                <div class="info-item">
                    <label for="phone"><i class="icon-phone"></i> Celular</label>
                    <p class="fontSizeData">Phone</p>
                </div>
                <div class="info-item">
                    <label for="identity"><i class="icon-identity"></i> Cpf</label>
                    <p class="fontSizeData">Cpf</p>
                </div>
            </div>
        </div>

        <div class="user-about-actions">
            <div class="user-about">
                <label class="about-label">Sobre <span id="user-name">Você</span></label>
                <textarea id="user-about-text" maxlength="350" placeholder="Sobre o usuário"></textarea>
                <div class="align-count-button">
                    <div id="char-count" style="width: 100%;">
                        <span id="char-used">0</span> / <span id="char-max">350</span>
                    </div>
                    <div class="button-align">
                        <button id="save-about-button" disabled>Salvar Alterações</button>
                    </div>
                </div>
            </div>
            <div class="actions">
                <a href="../support-screen/index.html">
                    <button>Contatar Suporte</button>
                </a>
                <a href="../favorites-screen/index.html">
                    <button>Acessar Favoritos</button>
                </a>
                <a href="../history-screen/index.html">
                    <button>Histórico de Locações</button>
                </a>
                <a href="../property-management-screen/index.html">
                    <button>Gerenciar Propriedades</button>
                </a>
                <a href="../login-screen/index.html" onclick="logout(event)">
                    <button>Sair da Conta</button>
                </a>
                <div class="actions">
                    <button class="delete-account" onclick="confirmDelete()">Apagar Conta</button>
                </div>


            </div>
        </div>
    </div>

    <script type="module" src="js/script.js" defer></script>
    <script type="module">
        import CONFIG from '../../config.js';

        document.getElementById('documents-button').addEventListener('click', function () {
            document.getElementById('file-upload').click();
        });

        document.getElementById('file-upload').addEventListener('change', function (event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('profile-photo').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });


        const userAboutText = document.getElementById('user-about-text');
        const charUsed = document.getElementById('char-used');
        const saveButton = document.getElementById('save-about-button');

        userAboutText.addEventListener('input', function () {
            const textLength = userAboutText.value.length;
            charUsed.textContent = textLength;


            if (textLength > 0) {
                saveButton.disabled = false;
            } else {
                saveButton.disabled = true;
            }
        });

        saveButton.addEventListener('click', function () {

            alert('Alterações salvas com sucesso!');

        });



        function confirmDelete() {
            if (confirm("Tem certeza de que deseja apagar a conta?")) {
                window.location.href = "../initial-screen/index.html";
            }
        }

        function logout(event) {
    event.preventDefault();
    localStorage.removeItem('email');
    localStorage.removeItem('senha');
    localStorage.removeItem('token');
    window.location.href = "../login-screen/index.html";
}

    </script>
</body>

</html>